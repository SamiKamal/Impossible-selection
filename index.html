<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impossible switch</title>
</head>
<link rel="stylesheet" href="style.css">
<body>
    <div class="center">
        <label class="custom-control material-switch">
            <input type="checkbox" class="material-switch-control-input">
            <span class="material-switch-control-indicator"></span>
            <span class="material-switch-control-description">GOOD</span>
        </label>
    
        <label class="custom-control material-switch">
            <input type="checkbox" class="material-switch-control-input">
            <span class="material-switch-control-indicator" id="material-switch-control-indicator1"></span>
            <span class="material-switch-control-description">CHEAP</span>
        </label>
    
        <label class="custom-control material-switch">
            <input type="checkbox" class="material-switch-control-input">
            <span class="material-switch-control-indicator" id="material-switch-control-indicator2"></span>
            <span class="material-switch-control-description">FAST</span>
        </label>

    </div>


</body>
<script>
    let labels = Array.from(document.querySelectorAll('.custom-control'))
    let checkboxes = Array.from(document.querySelectorAll('.material-switch-control-input'))
    let x = 0
    labels.forEach(el => {
        el.addEventListener('change', e => {
            if (e.target.checked === true){
                x++
            } else {
                x--
            }
            console.log(x)
            if (x >= 3){
                let k = getRandomInt(3)
                x--
                console.log(k)
                if (checkboxes[k] === e.target && k < 2 ) {
                    k++
                    checkboxes[k].checked = false
                } else if (checkboxes[k] === e.target && k == 2) {
                    k--
                    checkboxes[k].checked = false
                } 
                else {
                checkboxes[k].checked = false
                }
            }
        })
    }) 


    function getRandomInt(max) {
  return Math.floor(Math.random() * Math.floor(max));
}

</script>
</html>